<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

        <title>The Incredible Proof Machine</title>

        <link rel="stylesheet" type="text/css" href="./vendor/joint.min.css" />
        <link rel="stylesheet" type="text/css" href="./webui/loader.css" />
        <link rel="stylesheet" type="text/css" href="./webui/logic.css" />
        <link rel="stylesheet" type="text/css" href="./fonts/lintsec_regular_macroman/stylesheet.css" />

        <style>
            body {
                font-family: sans-serif;
            }

	    h1 .e {
		display: inline-block;
		-ms-transform: rotate(180deg);
		-webkit-transform: rotate(180deg);
		-moz-transform: rotate(180deg);
		transform: rotate(180deg);

		transform-origin: center 44%;
	    }

	    #loading {
		position: absolute;
		top:0px;
		left:0px;
		right:0px;
		bottom:0px;
		/* background: lightgray; */
		/* ^ too much flickering if loading is quick */
	    }

	    #header {
		position: absolute;
		top:0px;
		left:0px;
		right:0px;
		height:80px;
		overflow: auto;
		border-bottom: 5px solid grey;
		padding:10px;
		text-align: center;
            }

	    #task #assumptions, #task #conclusions {
		text-align: center;
	    }


	    .close {
		position: absolute;
		top: 2px;
		right: 2px;
	    }
	    button.iconic {
		font-size:120%;
		color: white;
		margin: 2px;
		padding: 1px;
		border: 0px;
		border-radius: 5px;
		background: lightgrey;
		cursor: pointer;
	    }
            button.iconic:hover {
		opacity:0.5;
	    }

            #toolbar {
		position: absolute;
		top:0px;
		right:0px;
		padding:1em;
		display: flex;
		width:100px;
		justify-content: flex-end;
	    }
            #toolbar button {
		flex-grow:1;
		flex-basis:0;
	    }
            #toolbar button#showhelp {
		background: blue;
	    }
	    #inferredrule {
		display:none;
		position: absolute;
		top:0px;
		width:30em;
		right:0px;
		padding:1em;
		overflow: auto;
            }

            #taskwrap {
		text-align: center;
            }
            .inferencerule {
                width: 200px;
                padding: 4px;
                margin: 0 1em 1em 1em;
            }
            .inferencerule ul {
                display: block;
                padding: 0px;
                margin: 0px;
            }
            .inferencerule li {
                display: block;
                padding: 0px;
                margin: 0px;
		text-align: center;
            }
            #taskdialog .inferencerule.attempted {
                background: wheat;
            }
            #taskdialog .inferencerule.solved {
                background: #0f0;
            }
            #taskdialog .inferencerule {
                border: 1px solid lightgray;
                cursor: pointer;
            }
            #taskdialog .inferencerule:hover{
                border: 1px solid black;
            }

	    .tasklist {
                display: flex;
                flex-wrap: wrap;
                /* justify-content: space-between;
                   ^ not a good idea, see http://stackoverflow.com/questions/1637797 */
                align-items: center;
	    }

            #customtask {
                width: 200px;
                padding: 4px;
                margin: 0 1em 1em 1em;
                text-align: center;
            }
            #customtask textarea {
                width: 100%;
                height: 80px;
                display: inline-block;
                font-family: sans-serif;
                text-align: center;
            }
            #customtask button {
                width: 100%;
            }

            #leftpane {
		position: absolute;
		top:100px;
		left:0px;
		width:268px;
		bottom:0px;
		overflow: auto;
		border-right:2px solid grey;
                padding:15px;
            }

	    #devtools {
		margin-top: 6em;
		color: gray;
	    }

            #paper {
		position: absolute;
		top:100px;
		left:300px;
		right:0px;
		bottom:0px;
		overflow: auto;
            }

	    #dialog, #help {
		border:2px solid grey;
		background:white;
		display:none;
		position: absolute;
		top:120px;
		left:0px;
		right:0px;
		margin-left:auto;
		margin-right:auto;
		width:1000px;
		bottom:120px;
		overflow: auto;
		padding:15px;
	    }

	    #taskdialog {
		border-top: 5px solid grey;
		position: absolute;
		margin:0px;
		top:100px;
		left:0px;
		right:0px;
		bottom:0px;
		background:white;
		overflow: auto;
		padding:15px;

	    }

	    #taskbottombar {
		text-align:center;
		border-top: 5px solid grey;
		position: absolute;
		margin:0px;
		left:0px;
		right:0px;
		bottom:0px;
		height: 20px;
		background:white;
		padding: 5px;
	    }

	    #taskbottombar:hover {
		background:light grey,
	    }

	    .incrediblefont {
	       font-family: 'lintsecregular', Arial, sans-serif;
	    }

	    h1 {
	       font-family: 'lintsecregular', Arial, sans-serif;
	    }

	    h2, h3 {
		font-family: sans-serif
	    }

	    #errors {
		white-space: pre-line;
	    }

        </style>
    </head>
    <body>

    <div id="leftpane">
      <div id="task">
	<h3 data-i18n>Current task:</h3>
        <div id="taskwrap"></div>
      </div>
      <h3 data-i18n>Logics blocks:</h3>
      <div id="logic"></div>
      <h3 data-i18n>Helper blocks:</h3>
      <div id="helpers"></div>
      <h3 data-i18n>Custom blocks:</h3>
      <div id="custom"></div>

      <div id="devtools">
      <h3 data-i18n>Developers tools</h3>
	Example tasks: <select id="taskselect"></select><br/>
	<button id="freeproof">Start empty proof</button><br/>
	Example proofs: <select id="proofselect"><option value="" label=""></option></select><br/>
	<button id="showdialog">Details</button>
	<div id="errors"></div>

        <!-- <label><input type="checkbox" id="unify" checked="checked" /> Run unification</label> -->
     </div>
    </div>


    <div id="paper"></div>

    <div id="header">
      <h1>The Incredible Proof Machin<span class="e">e</span></h1>
	<div id="inferredrule">
	<h3 data-i18n>You proved:</h3>
	<div id="inferredrulewrapper">
	<svg xmlns="http://www.w3.org/2000/svg" width="30em" height="100px"></svg>
	</div>
	</div>

      <div id="toolbar">
	<button class="iconic" id="showhelp" data-i18n="[title]Help">‚Ñπ</button>
	<button class="iconic" id="reset" data-i18n="[title]Forget all stored data">üîÑ</button>
      </div>

    </div>


    <div id="dialog">
    <button class="iconic close" id="closedialog">√ó</button>
    <span id="took"></span>
    <br/>
    <textarea  cols=100 rows=20 id="graph" readonly="readonly"></textarea>
    <br/>
    <textarea  cols=100 rows=20 id="proof" readonly="readonly"></textarea>
    <br/>
    <textarea  cols=100 rows=20 id="analysis" readonly="readonly"></textarea>
    </div>

    <div id="taskbottombar" data-i18n="switch">switch task...</div>

    <div id="taskdialog">
    <h2 data-i18n>What do you want to prove today?</h2>
    <div id="sessiontasks"></div>
    <h3 data-i18n>Custom tasks</h3>
    <div id="customtasks" class="tasklist">
    <div id="customtask">
    <textarea>A&#10;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&#10;A</textarea>
    <button id="addcustomtask" data-i18n>Add</button>
    </div>
    </div>
    </div>


    <div id="help">
    <button class="iconic close" id="closehelp">√ó</button>
    <h2>Welcome to <span class="incrediblefont">The Incredible Proof Machine</span></h2>

    <h3>What is this?</h3>
    <p>
    This is a tool to perform proofs in various logics (e.g. propositional, predicate logic) visually: You simply add blocks that represent the various proofs steps, connect them properly, and if the conclusion turns green, then you have created a complete proof!
    </p>

    <h3>Why is this?</h3>
    <p>
    <span class="incrediblefont">The Incredible Proof Machine</span> was created to convey the fun and joy of doing proofs, especially in a computer aided way, without first having to learn the syntax of a ‚Äúreal‚Äù thereom prover like <a href="http://isabelle.in.tum.de/">Isabelle</a>.
    </p>

    <h3>Who did this?</h3>
    <p>
    Mostly <a href="http://www.joachim-breitner.de/">Joachim Breitner</a>, with valuable help from <a href="https://github.com/nomeata/incredible/graphs/contributors">some colleagues and friends</a>.
    </p>

    <h3>Can I help?</h3>
    <p>
    Most certainly! Everything is Free Software, so you can jump right in, <a href="https://github.com/nomeata/incredible">fetch the code</a> and start contributing. The more people contribute, the more incredible the <span class="incrediblefont">The Incredible Proof Machine</span> becomes.
    </p>
    </div>

    <div id="loading">
	<div class="signal"></div>
    </div>


        <script src="./vendor/jquery-2.1.4.min.js"></script>
        <script type="text/javascript">$.holdReady( true );</script>
        <script src="./vendor/i18next-1.10.1.min.js"></script>
        <script src="./webui/i18n.js"></script>
	<script src="./vendor/jquery-ui/jquery-ui.js"></script>
        <script src="./vendor/lodash.min.js"></script>
        <script src="./vendor/backbone-min.js"></script>
        <script src="./vendor/joint.min.js"></script>

        <script src="./logic.js"></script>
        <script src="./examples.js"></script>
        <script src="./sessions.js"></script>
        <script src="./webui/shapes.js"></script>
        <script src="./webui/logic-interface.js"></script>
        <script src="./webui/incredible-elements.js"></script>
        <script src="./webui/task-management.js"></script>
        <script src="./webui/graph-interaction.js"></script>
        <script src="./webui/devtools.js"></script>
        <script src="./webui/webui.js"></script>

    </body>
</html>
