<!-- This is a quick debug hack to interact with incredibleLogic() directly -->
<html>
<head>
<meta charset="utf-8" />
<title>The not at all incredible proof machine.</title>
<script language="javascript" src="logic.js"></script>
<script language="javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script language="javascript">
$(function() {
	$("#update").click(function() {
		var context = $.parseJSON($("#context").val());
		var proof = $.parseJSON($("#context").val());
		var analysis = incredibleLogic(context,proof);
		$("#analysis").val(JSON.stringify(analysis, null, 2));
	});
});
</script>
</head>
<body>
Context:<br/>
<textarea  cols=100 rows=20 id="context">
{
  "proposition": {
    "assumptions": ["(A∧B)→C"],
    "conclusions": ["A→(B→C)"]
  },
  "rules": [
    { "id": "conjI",
      "ports": {
        "in1": {"type": "assumption", "proposition": "A"},
        "in2": {"type": "assumption", "proposition": "B"},
        "out": {"type": "conclusion", "proposition": "A∧B"}
      }
    },
    { "id": "conjE",
      "ports": {
        "in":   {"type": "assumption", "proposition": "A∧B"},
        "out1": {"type": "conclusion", "proposition": "A"},
        "out2": {"type": "conclusion", "proposition": "B"}
      }
    },
    { "id": "impI",
      "ports": {
        "in":  {"type": "assumption",       "proposition": "B"},
        "hyp": {"type": "local hypothesis", "proposition": "A", "consumedBy": "in"},
        "out": {"type": "conclusion",       "proposition": "A → B"}
      }
    },
    { "id": "impE",
      "ports": {
        "in1": {"type": "assumption", "proposition": "A→B"},
        "in2": {"type": "assumption", "proposition": "A"},
        "out": {"type": "conclusion", "proposition": "B"}
      }
    }
  ]
}
</textarea><br/>
Proof:<br/>
<textarea  cols=100 rows=20 id="proof">
{
  "blocks": {
    "b1": { "rule": "conjI"},
    "b2": { "rule": "impE"},
    "b3": { "rule": "impI"},
    "b4": { "rule": "impI"}
  },
  "connections": {
    "c1": {"from": {"assumption": 1},              "to": {"block": "b2", "port": "in1"}},
    "c2": {"from": {"block": "b2", "port": "out"}, "to": {"block": "b3", "port": "in"}},
    "c3": {"from": {"block": "b3", "port": "out"}, "to": {"block": "b4", "port": "in"}},
    "c4": {"from": {"block": "b4", "port": "out"}, "to": {"conclusion": 1}},
    "c5": {"from": {"block": "b4", "port": "hyp"}, "to": {"block": "b1", "port": "in1"}},
    "c6": {"from": {"block": "b3", "port": "hyp"}, "to": {"block": "b1", "port": "in2"}},
    "c7": {"from": {"block": "b1", "port": "out"}, "to": {"block": "b2", "port": "in2"}}
  }
}
</textarea><br/>
Analysis: <button id="update">Update</button><br/>
<textarea  cols=100 rows=20 id="analysis" readonly="readonly">
</textarea>
</body>
</html>
